<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>MiaoWuwu | I Like Green</title>

    <link rel="stylesheet" type="text/less" href="/stylesheets/styles.less">
    
    <meta name="viewport" post="width=device-width, initial-scale=1, user-scalable=no">
    
    <script src="/javascripts/scale.fix.js"></script>
    <script type="text/javascript" src="/javascripts/jquery-1.7.2.min.js"></script>
    <script src="/javascripts/less-1.3.0.min.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <header>
        <ul>
            <li><a id="logo" href="/">喵呜呜</a></li>
            <li>
                <a href="/index.html">Blog</a>
            </li>
            <li>
                <a href="/demo.html">Demos</a>
            </li>
            <li>
                <a href="#">About</a>
            </li>
        </ul>

    </header>
    <div class="wrapper">        

        <div id="github">
    <h1>练习题</h1>
    <div class="content">
    	<div><ul>
<li><p>实现walkTheDom函数，接受两个参数，一个是根节点，另一个是回调函数。结构如下：</p>

<pre><code>function walkTheDom(root, callback) {
    // todo
};
</code></pre>

<p>callback接受一个参数，就是当前遍历到的节点。walkTheDom的功能是，遍历所给根结点及其所有子树节点，对每个遍历到的节点都执行callback回调函数。使用示例：</p>

<pre><code>walkTheDom(document.getElementById('wrapper'), function (element) {
    element.style.backgroundColor = 'green';
});
</code></pre>

<p>该示例使用walkTheDom方法遍历id为wrapper的节点和它的所有子节点，将所有节点的背景色变成绿色。</p>

<pre><code> // 使用方法：
 walkTheDom2(document.body, function (element) {
    element.style.backgroundColor = 'green';
 })；

/*
 * 方法一: 利用children函数进行遍历
*/
function walkTheDom(root, callback) {
    var childrens = root.children,
        count = childrens.length;
    callback(root);
    if (count === 0) {
        return;
    } else {
        for(var i = 0; i &lt; count; i++) {
            walkTheDom(childrens[i], callback);
        }
    }
};

walkTheDom(document.body, function (element) {
    element.style.backgroundColor = 'green';
});

/*
 * 方法二: 使用firstChild, nextSibling进行遍历
*/
function walkTheDom2(root, callback) {
    var childrens = root.children,
        count = childrens.length;
    callback(root);
    if (count == 0) {
        return;
    } else {
        var first = root.firstChild;
        do {
            if (first.nodeType === 1) {
                console.log(first);
                walkTheDom2(first, callback);
            }
            first = first.nextSibling;
        } while (first);
    }
};
</code></pre></li>
</ul>


<p>知识点总结：</p>

<ol>
<li><p>children v.s. childNodes</p>

<ul>
<li>chilNodes得到的子节点有Text，children没有</li>
</ul>
</li>
<li><p>firstChild, nextSibling, previousSibling</p>

<ul>
<li>nextSibling中可能会有TextNode,判断TextNode可以用<code>nodeType === 1</code></li>
</ul>
</li>
<li><p>函数作为参数</p></li>
<li><p>怎么判断</p></li>
</ol>


<hr />

<p>尊重原创，引用请标注出处，谢谢！</p>
</div>
    	<p class="data">Posted on 22 August 2012</p>
    </div>
</div>


        
        <footer>
            <p>Hosted on GitHub Pages — Theme by <a class="header name" href="https://github.com/reelin">reelin</a></p>
        </footer>
    </div>

<script type="text/javascript" src="/javascripts/base.js"></script>

<!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>