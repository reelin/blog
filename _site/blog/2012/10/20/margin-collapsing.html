<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>MiaoWuwu | I Like Green</title>

    <link rel="stylesheet" type="text/less" href="/stylesheets/styles.less">
    
    <meta name="viewport" post="width=device-width, initial-scale=1, user-scalable=no">
    
    <script src="/javascripts/scale.fix.js"></script>
    <script type="text/javascript" src="/javascripts/jquery-1.7.2.min.js"></script>
    <script src="/javascripts/less-1.3.0.min.js" type="text/javascript"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <header>
        <ul>
            <li><a id="logo" href="/">喵呜呜</a></li>
            <li>
                <a href="/index.html">Blog</a>
            </li>
            <li>
                <a href="/demo.html">Demos</a>
            </li>
            <li>
                <a href="#">About</a>
            </li>
        </ul>

    </header>
    <div class="wrapper">        

        <div id="github">
    <h1>margin collapsing外边距重叠</h1>
    <div class="content">
    	<div><ol>
<li><p>如果元素没有垂直边框或者内边距，就会与父元素发生外边距叠加。</p>

<pre><code>&lt;div id="box"&gt;
    &lt;p&gt;This is a box.&lt;/p&gt;
&lt;/div&gt;

#box {
    margin: 10px;
    background-color: #d5d5d5;
}
#box p {
    margin: 20px;
    background-color: #6699ff;
}
</code></pre>

<p><img src="/images/marginC/1.png" alt="子元素和父元素外边距叠加" /></p>

<p>可以看到段落的20像素的margin和div的10像素的margin叠加形成一个20像素的margin。这是由于具有块级子元素的元素计算其高度的方式造成的。以及，两个块级元素的外边距不是两个的margin和。</p>

<p>解决这种可以添加内边距和垂直边框：</p>

<pre><code>#box {
    margin: 10px;
    padding: 5px; // 或者 border: 1px solid #fff;
    background-color: #bcc7cf;
}
#box p {
    margin: 20px;
    background-color: #93daa6;
}
</code></pre>

<p><img src="/images/marginC/2.png" alt="解决子元素和父元素外边距叠加" /></p>

<p>但很多情况下，我们不需要内边距或者边框怎么办？</p>

<blockquote><p>  仅当两个块级元素相邻并且在同一个块级格式化上下文时，它们垂直方向之间的外边距才会叠加。</p></blockquote>

<p>也就是说，即便两个块级元素相邻，但当它们不在同一个块级格式化上下文时它们的边距也不会折叠。因此，可以把父元素形成为BFC，从而解决叠加。</p>

<pre><code>#box {
    margin: 10px;
    overflow: hidden;
    background-color: #bcc7cf;
}
#box p {
    margin: 20px;
    background-color: #93daa6;
}
</code></pre>

<p><img src="/images/marginC/6.png" alt="父元素形成新的BFC" /></p></li>
<li><p>两个相邻的块级元素的垂直方向上发生的外边距叠加。</p>

<pre><code>&lt;div id="pink"&gt;&lt;/div&gt;
&lt;div id="blue"&gt;&lt;/div&gt;

#pink {
  width: 100px;
  height: 100px;
  background-color: #bcc7cf;
  margin: 10px;
}

#blue {
  width: 100px;
  height: 100px;
  background-color: #eee;
  margin: 10px;
}
</code></pre>

<p><img src="/images/marginC/3.png" alt="相邻块级元素外边距叠加" /></p>

<blockquote><p>  外边距重叠不发生在float上</p></blockquote>

<pre><code>#pink, #blue {
    float: left;
}
</code></pre>

<p><img src="/images/marginC/4.png" alt="解决相邻块级元素外边距叠加" /></p></li>
<li><p>空元素上的外边距叠加。</p>

<pre><code>&lt;div class="pink"&gt;&lt;/div&gt;
&lt;div class="empty"&gt;&lt;/div&gt;
&lt;div class="blue"&gt;&lt;/div&gt;

.pink {
  width: 100px;
  height: 100px;
  background-color: #bcc7cf;
  margin: 0;
}

.blue {
  width: 100px;
  height: 100px;
  background-color: #eee;
  margin: 0;
}

.empty {
    margin: 20px 0 20px 0;
}
</code></pre>

<p><img src="/images/marginC/4.png" alt="空元素上外边距叠加" /></p>

<p>空元素上下的外边距均为20px,本来应该是在blue和gray之间有40px的外边距，但是空元素本身外边距叠加为20px。</p>

<p>解决方法同1，加padding或者border。但实际应用中可能很少用到利用空元素来隔离两个块元素。</p>

<p><img src="/images/marginC/5.png" alt="解决空元素上外边距叠加" /></p>

<p>&lt; <a href="/code/exercise/margin.html">运行查看示例代码</a> ></p></li>
</ol>


<hr />

<p>尊重原创，引用请标注出处，谢谢！</p>
</div>
    	<p class="data">Posted on 20 October 2012</p>
    </div>
</div>


        
        <footer>
            <p>Hosted on GitHub Pages — Theme by <a class="header name" href="https://github.com/reelin">reelin</a></p>
        </footer>
    </div>

<script type="text/javascript" src="/javascripts/base.js"></script>

<!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>