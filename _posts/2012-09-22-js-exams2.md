---
layout: post
title: 关于数组和对象的面试题
---

* 	实现一个遍历数组或对象里所有成员的迭代器(搜狐面试题)

		var each = function(obj, fn){
		   //+++++++++++答题区域+++++++++++
		
		   //+++++++++++答题结束+++++++++++
		};
	        
		try{
		    var data1 = [4,5,6,7,8,9,10,11,12];
		    var data2 = {
		    "a": 4,
		    "b": 5,
		    "c": 6
		    };
		    
		    console.group(data1);
		    
		    each(data1, function(o){
		        if( 6 == this )
		            return true;
		        else if( 8 == this )
		            return false;
		        console.log(o + ": \"" + this + "\"");
		    });
		    
		    console.groupEnd();
		     /*------[执行结果]------
		   
		   1: "4"
		   2: "5"
		   4: "7"
		   
		   ------------------*/
		    
		    console.group(data2);
		    
		    each(data2, function(v, n){
		        if( 5 == this )
		            return true;
		        console.log(n + ": \"" + v + "\"");
		    });
		    
		    console.groupEnd();
		    
		    /*------[执行结果]------
		   
		   a: "4"
		   c: "6"
		   
		   ------------------*/
		
		}catch(e){
		    console.error("执行出错，错误信息: " + e);
		}


1.	调用each函数的参数内部使用了`this`，将obj的属性值当做了此时的`this`.

	`Function.call()` 可以将函数作为对象的方法调用，可单独指定传递的参数；

	`Function.apply()` 的参数要传入数组元素。

	在此更适合使用call()将`value`当做此时的`this`，并且调用`fn`函数。

2.	由于数组和对象传递的参数不同，要判断数组和对象，使用typeof得到的返回值都是object。

	ECMAscript 5中可以使用Array.isArray()函数来判断

	ECMAscript 3中可以这样判断：

	对象的类属性是一个字符串，表示对象的类型信息。可以用默认的toString()方法 (继承自Object.prototype) 返回`[object class]`。但很多对象继承的toString方法可能被重写过，为了能够调用到正确的toString()版本，必须间接的调用Function.call()。

		var isAarry = (Array.isArray) ? Array.isArray(obj) : 
			          typeof obj === "object" && 
			          Object.prototype.toString.call(obj) === "[object Array]";

> ( 知识点在犀牛书中可以查阅 )

<script src="https://gist.github.com/3765262.js?file=exams2"></script>

---

尊重原创，引用请标注出处，谢谢！
