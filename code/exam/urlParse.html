<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>man</title>
</head>
<body>
    <p>打开console查看运行结果~</p>
    <script type="text/javascript">
        function urlParser(s){
            //+++++++++++答题区域+++++++++++
            var url = /#.+/,
                result = [];

            if (s.match(url)) {

                var query = s.match(url)[0],
                    parseUrl = /#((\S+)\?)*(\w+=\S+&*)*/,
                    value1 = query.match(parseUrl)[2],
                    value2 = query.match(parseUrl)[3];

                if (value1) {
                    if (value1.indexOf("/") !== -1) {
                        result.push(value1.split("/")[0]);
                        result.push(value1.split("/")[1]);
                    } else if (value1.indexOf("/") === -1 ) {
                        result.push(value1);
                    }
                } 

                if(value2) {
                    var temp = value2.split("&"),
                        len = temp.length,
                        resultT = {};
                    for(var i = 0; i < len; i++) {
                        resultT[temp[i].split("=")[0]] = temp[i].split("=")[1];
                    }
                    result.push(resultT);
                }
            }
            
            return result;

            //+++++++++++答题结束+++++++++++
        }

        try{
            var url1 = "http://www.abc.com/m/s/#page/2/?type=latest_videos&page_size=20";
            var url2 = "http://www.abc.com/m/s/#type=latest_videos&page_size=20";
            var url3 = "http://www.abc.com/m/s/#page?type=latest_videos&page_size=20";
            var url4 = "http://www.abc.com/m/s/";

            console.group();
            console.info( urlParser(url1) );
            console.info( urlParser(url2) );
            console.info( urlParser(url3) );
            console.info( urlParser(url4) );
            console.groupEnd();
            /*------[执行结果]------

           ["page", "2", { "type": "latest_videos", "page_size": 20 }]
           [{ "type": "latest_videos", "page_size": 20 }]
           ["page", { "type": "latest_videos", "page_size": 20 }]

           ------------------*/

        }catch(e){
            console.error("执行出错，错误信息: " + e);
        }
    </script>
</body>
</html>